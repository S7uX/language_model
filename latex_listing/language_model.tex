%Document
\documentclass[10pt,a4paper]{scrartcl} 
\begin{filecontents*}[overwrite]{\jobname.xmpdata}
    \Title{Systemnahes Programmieren Listings}
    \Author{Valerio Cocco}
    \Language{de}
\end{filecontents*}
\usepackage[a-3b]{pdfx}
\usepackage[left=1cm,right=1cm,top=1cm,bottom=2cm]{geometry} 
%Default packages
\usepackage[ngerman]{babel} 
\usepackage{fontspec}
\usepackage{newunicodechar}
\usepackage{fancyhdr}
\usepackage{lastpage}
\usepackage{xcolor}
\usepackage[most, minted]{tcolorbox}
\usepackage{microtype}

%Meta
\usepackage{hyperref}
\hypersetup{
	hidelinks
}

\setmonofont{JetBrainsMono}[
  Path = ./JetBrainsMono/,
  Extension = .otf,
  % 
  UprightFont = *-Light,
  BoldFont = *-Bold,
  ItalicFont = *-LightItalic,
  BoldItalicFont = *-BoldItalic,
]
\setmainfont{JetBrainsMono}

\newfontfamily{\fallbackfont}{Linux Libertine O}
\DeclareTextFontCommand{\textfallback}{\fallbackfont}
\newunicodechar{‚Çô}{\textsubscript{n}}
\newunicodechar{·µ¢}{\textsubscript{i}}
\newunicodechar{‚Çã}{\textsubscript{-}}
\newunicodechar{‚Çã}{\textsubscript{-}}
\newunicodechar{‚Çò}{\textsubscript{m}}
\newunicodechar{‚Çë}{\textsubscript{e}}
\newunicodechar{·µ£}{\textsubscript{r}}
\newunicodechar{‚Çö}{\textsubscript{p}}
\newunicodechar{‚Çä}{\textsubscript{+}}
\newunicodechar{‚Çñ}{\textsubscript{k}}
\newunicodechar{·µ•}{\textsubscript{v}}
\newunicodechar{‚Çò}{\textsubscript{m}}
\newunicodechar{‚Çó}{\textsubscript{l}}
\newunicodechar{‚Çë}{\textsubscript{e}}
\newunicodechar{‚Çú}{\textsubscript{t}}
\newunicodechar{ùó†}{\textbf{M}}
\newunicodechar{ùóü}{\textbf{L}}
\newunicodechar{ùóò}{\textbf{E}}
\newunicodechar{‚ß∏}{$\bigm/$}
\newunicodechar{Ôºª}{ $\bigm[$}
\newunicodechar{ÔºΩ}{$\bigm]$ }
\newunicodechar{‚ãÖ}{$\cdot$}
\newunicodechar{ÔΩú}{$\bigm|$}



% Header Footer
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\headrulewidth}{0pt} % no head rule

\rfoot{\ttfamily Seite \thepage \hspace{1pt} von \pageref{LastPage}}

\usemintedstyle{tango}
\definecolor{background}{RGB}{248, 248, 248} 

\newtcbinputlisting{\python}[1]{%
    listing engine=minted,
    % listing engine=listings,
    minted language=python,
    listing only,
    breakable,
    enhanced,
    minted options = {
        linenos, 
        breaklines=true, 
        breakbefore=., 
        fontsize=\scriptsize, 
        numbersep=2.1mm,
        xleftmargin=0.8mm,
		baselinestretch=1.2
    },
    overlay={%
        \begin{tcbclipinterior}
            \fill[gray!30] (frame.south west) rectangle ([xshift=4.6mm]frame.north west);
        \end{tcbclipinterior}
    },
	colframe=black,
	boxrule=0.8pt,
	colback=background,
	sharp corners,
    top=0pt,
    bottom=0pt,
	listing file =#1
}

\renewcommand\theFancyVerbLine{\tiny\arabic{FancyVerbLine}} % minted

\begin{document} 
    \subsubsection*{language\_model.py}
	\python{../language_model.py} \clearpage
\end{document}

